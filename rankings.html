<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href='https://fonts.googleapis.com/css?family=Holtwood+One+SC' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Kaushan+Script|Herr+Von+Muellerhoff' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Abel' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Istok+Web|Roboto+Condensed:700' rel='stylesheet' type='text/css'>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Allen Table Tennis</title>
	<meta name="description" content="Allen Table Tennis Club Website">
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
	<meta name="twitter:card" content="summary" />
	<meta name="twitter:site" content="@allentabletennis" />
	<meta name="twitter:title" content="Allen Table Tennis Club Website" />
	<meta name="twitter:description" content="The official website for the Allen Table Tennis Club of Allen High School in Allen, TX. Come join us for fun and competition in the sport of table tennis/ping pong!" />
	<meta name="twitter:image" content="https://i.imgur.com/e33bL2Z.png" />
	<link rel="stylesheet" type="text/css" href="index.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script type="text/javascript" src="index.js"></script>
	<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://www.gstatic.com/firebasejs/5.5.0/firebase.js"></script>
	<!-- Firebase App is always required and must be first -->
	<script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-app.js"></script>

	<!-- Add additional services that you want to use -->
	<script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-database.js"></script>
	<script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-firestore.js"></script>
	<script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-messaging.js"></script>
	<script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-functions.js"></script>
</head>
<body>
	<header id = "header">
		<div id = "logoContainer">
			<div id="logoPictureContainer">
				<a href="index.html">
					<img src="images/Logo.png" id="logoPicture">
				</a>			
			</div>
			<div id="logoTitleContainer">
				<div id="logoTitle">
					<h1>
						Allen Table Tennis
					</h1>
				</div>
			</div>
		</div>
		<div style="clear: both;">

		<div class="nav" id="topNav">
			<a href="javascript:void(0);" id="menuIcon" class="icon"  onmousedown="toggleResponsive()">
				<i class="fa fa-bars"></i>
			</a>
			<a href="index.html">Home</a>
			<a href="rules.html">Rules</a>
			<a href="queue.html">Queue</a>
			<a class="active" href="rankings.html">Rankings</a>
			<a href="events.html">Events</a>
		</div>
	</header>
	<div id="ranking" class="tabPage">
		<div id = "addPlayer" class="inputField">
			<h3>Add Player</h3>

			<label for="firstName">First name: </label> 
			<input type="text" name="firstName" id="firstName"><br>

			<label for="lastName">Last name: </label>
			<input type="text" name="lastName" id="lastName"><br>

			<button onclick="addPlayerClick()">Add</button>

			<p id = "addPlayerMessage"> </p><br><br>
		</div>
		<!--
		<div id = "startMatch" class="inputField">
			<h3>Start Match</h3>

			<label for="playerOneStart">Player One ID: </label> 
			<input type="number" name="playerOneStart" id="playerOneStart"><br>

			<label for="playerTwoStart">Player Two ID: </label> 
			<input type="number" name="playerTwoStart" id="playerTwoStart"><br>

			<button onclick="startMatchClick()">Start Match</button>

			<p id = "startMatchMessage"> </p><br><br>
		</div>
		-->
		<div id = "addMatch" class="inputField">
			<h3>Add Match</h3>

			<label for="playerOneAdd">Player One ID: </label> 
			<input type="number" name="playerOneAdd" id="playerOneAdd"><br>

			<label for="playerOneScore">Player One Score</label>
			<input type="number" name="playerOneScore" id="playerOneScore"><br>

			<label for="playerTwoAdd">Player Two ID: </label> 
			<input type="number" name="playerTwoAdd" id="playerTwoAdd"><br>

			<label for="playerTwoScore">Player Two Score</label>
			<input type="number" name="playerTwoScore" id="playerTwoScore"><br>

			<button onclick="addMatchClick()">Add Match</button>

			<p id = "addMatchMessage"> </p><br><br>
		</div>
		<!--
		<div id = "simulation" class="inputField">
			<h3>Simulation</h3>

			<label for="numPlayers">Number of Players: </label> 
			<input type="number" name="numPlayers" id="numPlayers"><br>

			<label for="numMatches">Match Count: </label> 
			<input type="number" name="numMatches" id="numMatches"><br>

			<label for="runCount">Run Count: </label> 
			<input type="number" name="runCount" id="runCount"><br>

			<button onclick="simulate()">Simulate</button>

			<p id = "simulationMessage"> </p><br><br>
		</div>
		-->
		<div id = "rankings">
			<h2>Rankings</h2><br>
			<table id = "rankingsTable">
				<tr class = "tableHeader">
					<td>Rank</td>
					<td>Name</td>
					<td>Points</td>
					<td>Win-Loss Ratio</td>
				</tr>
			</table>
			<!--
			<div id="rankingsGraph" class="chart" style="height: 300px; width: 100%;"></div>
			-->
		</div>
		<br><br><br>


		<footer id="footer">
			<h3>
				<\> by Allen Computer Science Club
			</h3>
		</footer>
	</div>
	<script type="text/javascript">
		
		var config = {
		    apiKey: "AIzaSyDLcVN0xTbwPzg9IYyC41lyfEOoHMw3EX0",
		    authDomain: "ahsppcrank.firebaseapp.com",
		    databaseURL: "https://ahsppcrank.firebaseio.com",
		    projectId: "ahsppcrank",
		    storageBucket: "ahsppcrank.appspot.com",
		    messagingSenderId: "851317372355"
		};
		var defaultApp = firebase.initializeApp(config);
		var database = firebase.database();
		var rootRef = database.ref();
		var rankingsCache = {};     
		
		var table = document.getElementById("rankingsTable");
		var playersRef = rootRef.child('players'); 
		var players = new Players();
		var nextID = 1000;
		//clearDB();
		//tableReservationsRef = rootRef.child('tableReservations');
		loadRankingsCache();
	</script>
</body>
</html>